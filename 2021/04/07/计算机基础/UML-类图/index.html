<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>UML 类图 - IMO&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="IMO&#039;s Blog"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/speam/blogImgs@main/avatar4.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="IMO&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description=""><meta property="og:type" content="blog"><meta property="og:title" content="UML 类图"><meta property="og:url" content="http://evilimo.com/2021/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/UML-%E7%B1%BB%E5%9B%BE/"><meta property="og:site_name" content="IMO&#039;s Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJkZDI3MGJmMi00NmVhLTRjMjItYmEyZS00YzIxY2I3YmJhNTkifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiI0NWM5MmNmMS0wYWE1LTRlMDYtYTdlMC03M2E5ZmUwNTEzYWYifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407141847235.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJiN2FjYTIyZC00YTE5LTQwOTItODhiNi00MDNlZjk0MmNiYmUifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142110709.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJiM2VkOTMzNC0xOGNhLTQwNWEtYjdjZi0zNGExZDQ5ZDY4MmEifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142221751.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiI4NmE5ZGUxMS0xNjQxLTQ0ZmItYTM3ZS1hNTJjYTcyMzFjYWUifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142515072.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJkOTMxYjUwNC0yODIxLTRkNzQtOTQyYy04NjQ0N2Q4NWI2NWUifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143021843.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJjYWM2ZGVjZS1kZmQzLTRiOTEtYjk1Yy1hOGE3YzAzZjdkOWQifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143301558.png"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJjZjdjYTA1YS01NzA3LTQ1Y2YtYTlkMS1hMzIxOTE1NzhlNTcifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiIwMWNkYzI2My04ZDM1LTRhYzYtOTllMy01ZjNjNmU0Yjg5OTAifQ%253D%253D.jpeg"><meta property="og:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/Unknown.png"><meta property="article:published_time" content="2021-04-07T06:06:45.994Z"><meta property="article:modified_time" content="2021-04-07T07:06:55.244Z"><meta property="article:author" content="IMO"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJkZDI3MGJmMi00NmVhLTRjMjItYmEyZS00YzIxY2I3YmJhNTkifQ%253D%253D.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://evilimo.com/2021/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/UML-%E7%B1%BB%E5%9B%BE/"},"headline":"IMO's Blog","image":["https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407141847235.png","https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142110709.png","https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142221751.png","https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142515072.png","https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143021843.png","https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143301558.png","https://raw.githubusercontent.com/speam/blogImgs/main/Unknown.png"],"datePublished":"2021-04-07T06:06:45.994Z","dateModified":"2021-04-07T07:06:55.244Z","author":{"@type":"Person","name":"IMO"},"description":""}</script><link rel="canonical" href="http://evilimo.com/2021/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/UML-%E7%B1%BB%E5%9B%BE/"><link rel="icon" href="https://cdn.jsdelivr.net/gh/speam/blogImgs@main/avatar4.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.4.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://cdn.jsdelivr.net/gh/speam/blogImgs@main/imglogo.png" alt="IMO&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-04-07T06:06:45.994Z" title="2021-04-07T06:06:45.994Z">2021-04-07</time>发表</span><span class="level-item"><time dateTime="2021-04-07T07:06:55.244Z" title="2021-04-07T07:06:55.244Z">2021-04-07</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></span></div></div><h1 class="title is-3 is-size-4-mobile">UML 类图</h1><div class="content"><hr>
<a id="more"></a>

<h1 id="UML-类图"><a href="#UML-类图" class="headerlink" title="UML 类图"></a>UML 类图</h1><blockquote>
<p>我们在阅读开源项目时，总是希望能比较高效的整理清楚项目中的各个类之间的关系，<br>那么有没有相应的工具能高效、简洁的表示清楚类关系呢？<br>UML 类图就是一个可以帮我们解决此类问题的工具或者方法。</p>
</blockquote>
<h2 id="一、类的格式"><a href="#一、类的格式" class="headerlink" title="一、类的格式"></a>一、类的格式</h2><p>在UML类图中，类使用包含类名、属性(field) 和方法(method) 且带有分割线的矩形来表示。</p>
<p>例：一个 Animal 类，它包含 name，age，state，isPet 这4个属性，以及 name 相关方法。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">var</span> name: <span class="type">String?</span></span><br><span class="line">	<span class="keyword">internal</span> <span class="keyword">var</span> isPet: <span class="type">Bool?</span></span><br><span class="line">	<span class="keyword">fileprivate</span> <span class="keyword">var</span> state: <span class="type">String?</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">var</span> age: <span class="type">Int?</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">override</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">    	<span class="keyword">self</span>.name = <span class="string">&quot;no name&quot;</span></span><br><span class="line">    	<span class="keyword">self</span>.age = <span class="number">0</span></span><br><span class="line">    	<span class="keyword">self</span>.isPet = <span class="literal">true</span></span><br><span class="line">    	<span class="keyword">self</span>.state = <span class="string">&quot;dead&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">getName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">self</span>.name!</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">internal</span> <span class="function"><span class="keyword">func</span> <span class="title">setName</span><span class="params">(name: String?)</span></span> &#123;</span><br><span class="line">    	<span class="keyword">self</span>.name = name</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对应UML类图：<br><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJkZDI3MGJmMi00NmVhLTRjMjItYmEyZS00YzIxY2I3YmJhNTkifQ%253D%253D.jpeg"></p>
<ul>
<li>类名：<code>粗体</code>，如果是类是抽象类则类名显示为<code>斜体</code></li>
<li>属性：<code>可见性 名称：类型[=默认值]</code><ul>
<li><code>可见性</code>一般为 public、private 和 protected，在类图分别用+、-和#表示，在Swift中没有与 protected 完全对应的可见控制，因此选用的是 internal 对应为#</li>
<li><code>名称</code>为属性的名称；类型为数据类型</li>
<li><code>默认值</code>如变量 age默认值为0</li>
</ul>
</li>
<li>方法：<code>可见性 名称（参数列表 参数1，参数2） ：返回类型</code></li>
</ul>
<h2 id="二、关系表达"><a href="#二、关系表达" class="headerlink" title="二、关系表达"></a>二、关系表达</h2><p>类图中类与类之间的关系主要由：继承、实现、依赖、关联、聚合、组合这六大类型。表示方式如下图：<br><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiI0NWM5MmNmMS0wYWE1LTRlMDYtYTdlMC03M2E5ZmUwNTEzYWYifQ%253D%253D.jpeg"></p>
<h3 id="2-1-同级关系"><a href="#2-1-同级关系" class="headerlink" title="2.1 同级关系"></a>2.1 同级关系</h3><h4 id="继承关系"><a href="#继承关系" class="headerlink" title="继承关系"></a>继承关系</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407141847235.png"></p>
<p>继承用实线空心箭头表示，由子类指向父类。</p>
<p>下面写两个子类，Fish和Cat分别继承自Animal。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> fishType: <span class="type">String?</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">swim</span><span class="params">()</span></span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> hasFeet: <span class="type">Bool?</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playToy</span><span class="params">(doll:Doll)</span></span> &#123;</span><br><span class="line">        doll.toyMoved()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJiN2FjYTIyZC00YTE5LTQwOTItODhiNi00MDNlZjk0MmNiYmUifQ%253D%253D.jpeg"></p>
<h4 id="实现关系"><a href="#实现关系" class="headerlink" title="实现关系"></a>实现关系</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142110709.png"></p>
<p>指的是一个 class 类实现 interface 接口（可以是多个）的功能；实现是类与接口之间最常见的关系；在 Java 中此类关系通过关键字 implements 明确标识，在iOS中我将其理解成<code>代理的实现</code>。</p>
<p>写一个洋娃娃类 Doll，该类遵循了 ToyAction 协议，实现了玩具移动的方法。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ToyAction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toyMoved</span><span class="params">()</span></span> -&gt; <span class="type">Void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Doll</span>: <span class="title">NSObject</span>,<span class="title">ToyAction</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> body: <span class="type">Body?</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> cloth: <span class="type">Cloth?</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toyMoved</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//洋娃娃玩具动作具体实现</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJiM2VkOTMzNC0xOGNhLTQwNWEtYjdjZi0zNGExZDQ5ZDY4MmEifQ%253D%253D.jpeg"></p>
<h4 id="依赖关系【弱】"><a href="#依赖关系【弱】" class="headerlink" title="依赖关系【弱】"></a>依赖关系【弱】</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142221751.png"></p>
<ul>
<li><p>可以简单的理解，就是一个类 A 使用到了另一个类 B，而这种使用关系是具有<code>偶然性的、临时性的、非常弱</code>的，但是B类的变化会影响到A；比如某人要过河，需要借用一条船，此时人与船之间的关系就是依赖</p>
</li>
<li><p>表现在代码层面，为类 B 作为参数被类 A 在某个 method 方法中使用。</p>
</li>
</ul>
<p>在我们的上述代码中 Cat 的 playToy 方法中参数引用了 Doll，因此他们是依赖关系。<br><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiI4NmE5ZGUxMS0xNjQxLTQ0ZmItYTM3ZS1hNTJjYTcyMzFjYWUifQ%253D%253D.jpeg" alt="img"></p>
<h4 id="关联关系【强】"><a href="#关联关系【强】" class="headerlink" title="关联关系【强】"></a>关联关系【强】</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407142515072.png"></p>
<ul>
<li><p>他体现的是两个类、或者类与接口之间语义级别的一种<code>强依赖关系</code>，比如我和我的朋友；这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是<code>长期性</code>的，而且双方的关系一般是<code>平等的</code>，关联可以是单向、双向的</p>
</li>
<li><p>表现在代码层面，为类 B 以类属性的形式出现在类 A 中，也可能是类 A 引用了一个类型为类 B 的全局变量；</p>
</li>
</ul>
<p>写一个 Person 类，他拥有一个宠物猫，他们之间的关系是关联。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Head</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> pet: <span class="type">Cat?</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> head: <span class="type">Head?</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJkOTMxYjUwNC0yODIxLTRkNzQtOTQyYy04NjQ0N2Q4NWI2NWUifQ%253D%253D.jpeg"></p>
<h3 id="2-2-部分与整体"><a href="#2-2-部分与整体" class="headerlink" title="2.2 部分与整体"></a>2.2 部分与整体</h3><h4 id="聚合关系【弱】"><a href="#聚合关系【弱】" class="headerlink" title="聚合关系【弱】"></a>聚合关系【弱】</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143021843.png"></p>
<ul>
<li>聚合是关联关系的一种特例，他体现的是整体与部分、拥有的关系，即 has-a 的关系，此时整体与部分之间是<code>可分离的</code>，他们可以<code>具有各自的生命周期</code>，部分可以属于多个整体对象，也可以为多个整体对象共享；比如计算机与CPU、公司与员工的关系等</li>
<li>表现在代码层面，和关联关系是一致的，只能从语义级别来区分</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cloth</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Body</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>在上述代码中 Doll 由 Body 和 Cloth 组成，且即使失去 Cloth，Doll 也可以正常存在。<br><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJjYWM2ZGVjZS1kZmQzLTRiOTEtYjk1Yy1hOGE3YzAzZjdkOWQifQ%253D%253D.jpeg"></p>
<h4 id="组合关系【强】"><a href="#组合关系【强】" class="headerlink" title="组合关系【强】"></a>组合关系【强】</h4><p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/image-20210407143301558.png"></p>
<ul>
<li><p>组合也是关联关系的一种特例，他体现的是一种 contains-a 的关系，这种关系比聚合更强，也称为强聚合；他同样体现整体与部分间的关系，但此时整体与部分是<code>不可分的</code>，<code>整体的生命周期结束也就意味着部分的生命周期结束</code>；比如你和你的大脑</p>
</li>
<li><p>表现在代码层面，和关联关系是一致的，只能从语义级别来区分</p>
</li>
</ul>
<p>上述代码中的 Person 拥有 Head，并且这个整体和部分是不可分割的。<br><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiJjZjdjYTA1YS01NzA3LTQ1Y2YtYTlkMS1hMzIxOTE1NzhlNTcifQ%253D%253D.jpeg"></p>
<h2 id="三、例子"><a href="#三、例子" class="headerlink" title="三、例子"></a>三、例子</h2><p>最后来看看这个例子中的整体关系：</p>
<p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/c2VydmljZVR5cGU9MiZzZXJ2aWNlRGF0YT17Im5vdGVHdWlkIjoiM2FlZGMwZjEtYWY3ZC00MDYzLWJmNmQtNDFjYjI0MWY1ZDEzIiwicmVzb3VyY0d1aWQiOiIwMWNkYzI2My04ZDM1LTRhYzYtOTllMy01ZjNjNmU0Yjg5OTAifQ%253D%253D.jpeg"></p>
<p>其实理解了之后我们发现还是很简单的，学会了之后就可以投入实践中了，举一个简单第三方库的类图例子，下图是 Masonry 的类图整理，可以看到项目结构很清晰的展示了出来。</p>
<p><img src="https://raw.githubusercontent.com/speam/blogImgs/main/Unknown.png"></p>
</div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/04/06/iOS%C2%B7%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/15-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86/"><span class="level-item">15-多线程基础原理</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#UML-类图"><span class="level-left"><span class="level-item">UML 类图</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一、类的格式"><span class="level-left"><span class="level-item">一、类的格式</span></span></a></li><li><a class="level is-mobile" href="#二、关系表达"><span class="level-left"><span class="level-item">二、关系表达</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-同级关系"><span class="level-left"><span class="level-item">2.1 同级关系</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#继承关系"><span class="level-left"><span class="level-item">继承关系</span></span></a></li><li><a class="level is-mobile" href="#实现关系"><span class="level-left"><span class="level-item">实现关系</span></span></a></li><li><a class="level is-mobile" href="#依赖关系【弱】"><span class="level-left"><span class="level-item">依赖关系【弱】</span></span></a></li><li><a class="level is-mobile" href="#关联关系【强】"><span class="level-left"><span class="level-item">关联关系【强】</span></span></a></li></ul></li><li><a class="level is-mobile" href="#2-2-部分与整体"><span class="level-left"><span class="level-item">2.2 部分与整体</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#聚合关系【弱】"><span class="level-left"><span class="level-item">聚合关系【弱】</span></span></a></li><li><a class="level is-mobile" href="#组合关系【强】"><span class="level-left"><span class="level-item">组合关系【强】</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#三、例子"><span class="level-left"><span class="level-item">三、例子</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://cdn.jsdelivr.net/gh/speam/blogImgs@main/imglogo.png" alt="IMO&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 IMO</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/speam"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>